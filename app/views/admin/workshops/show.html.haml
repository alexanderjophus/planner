.container-fluid.p-0
  .btn-group.d-flex
    = link_to edit_admin_workshop_path(@workshop), class: 'btn btn-primary d-block py-4' do
      %i.fa.fa-pencil
      %label.text-light Edit
    - if !@workshop.date_and_time.future?
      = link_to '#', class: 'btn btn-primary d-block py-4 disabled', title: t('messages.already_taken_place') do
        %i.fa.fa-send-o
        %label.text-light Invite
    - elsif (@workshop.has_valid_host? || @workshop.virtual?) and @workshop.invitable?
      = link_to admin_workshop_send_invites_path(@workshop), class: 'btn btn-primary d-block py-4' do
        %i.fa.fa-send-o
        %label.text-light Invite
    - else
      = link_to '#', class: 'btn btn-primary d-block py-4 disabled', title: t('admin.workshop.not_invitable.') do
        %i.fa.fa-send-o
        %label.text-light Invite
    = link_to admin_workshop_path(format: 'csv'), class: 'btn btn-primary d-block py-4', title: 'CSV for pairing' do
      %i.fa.fa-users
      %label.text-light Pairing CSV
    = link_to admin_workshop_path(type: 'labels', format: 'csv'), class: 'btn btn-primary d-block py-4', title: 'CSV for labels' do
      %i.fa.fa-users
      %label.text-light Labels
    = link_to admin_workshop_attendees_checklist_path(@workshop, format: 'text'), title: 'Attendee checklist', class: 'btn btn-primary d-block py-4' do
      %i.fa.fa-list-ul
      %label.text-light Attendees
    = link_to admin_workshop_attendees_emails_path(@workshop, format: 'text'), title: 'Attendee emails', class: 'btn btn-primary d-block py-4' do
      %i.fa.fa-at
      %label.text-light Emails
    = link_to admin_workshop_path(@workshop), method: :delete, data: { confirm: 'Are you sure you want to delete this workshop?' }, title: 'Destroy workshop', class: 'btn btn-primary d-block py-4' do
      %i.fa.fa-remove
      %label.text-light Destroy


.container-fluid.stripe.reverse
  .row
    .col
      %h2
        = @workshop.to_s
        = link_to [:admin, @workshop.chapter] do
          %small=@workshop.chapter.name
      %h3
        %small #{humanize_date(@workshop.date_and_time, @workshop.ends_at, with_time: true)}
      - if @workshop.rsvp_opens_at
        %div.mb-2
          - if @workshop.open_for_rsvp?
            RSVPs opened at
          - else
            RSVPs will open at
          = @workshop.rsvp_opens_at.strftime('%H:%M on %d/%m/%Y.')
      - if @workshop.venue.present? || @workshop.virtual?
        .badge.bg-primary #{@workshop.student_spaces} student spots, #{@workshop.coach_spaces} coach spots
        - unless @workshop.spaces?
          .badge.bg-danger Full
      - if !@workshop.invitable?
        %br
        .badge.bg-info= t('admin.workshop.not_invitable')
      %p.description
        %br
        = sanitize(@workshop.description)
    - if @workshop.virtual?
      .row.mb-4
        .col#slack-details
          .card.bg-light.border-info
            .card-body
              %h5= t('admin.workshop.virtual.details.title')
              %p
                %strong="#{t('admin.workshop.virtual.details.slack')}:"
                #{link_to("##{@workshop.slack_channel}", @workshop.slack_channel_link)}
                %br
                %strong="#{t('admin.workshop.virtual.details.discord')}:"
                #{link_to(t('social_media_links.discord_invitation'), t('social_media_links.discord_invitation'))}
                %br
                %br
                #{t('admin.workshop.virtual.details.more_html', slack_channel: link_to('#organisers', 'https://codebar.slack.com/archives/G08CQ5KFD'))}

    .row
      - if !@workshop.virtual?
        .col-6.col-md-3#host
          - if @workshop.venue.present?
            %h4 Venue
            %strong= @workshop.venue.name
            %br
            %small= @workshop.address.to_html
      - if (@workshop.sponsors - [@workshop.host]).any?
        .col-6.col-md-3#sponsors
          %h4 Sponsors
          %ul.list-unstyled.ml-0
            - (@workshop.sponsors - [@workshop.host]).each do |sponsor|
              %li
                %span
                  = link_to sponsor.name, [:admin, sponsor]
      .col-12.col-md-6
        %h4 Team
        - @workshop.organisers.each do |organiser|
          %span.has-tip{ 'data-tooltip': '', 'aria-haspopup': 'true',  title: organiser.full_name }
            = image_tag(organiser.avatar(40), alt: organiser.full_name)

.stripe.reverse#invitations
  = render partial: 'invitation_management'
